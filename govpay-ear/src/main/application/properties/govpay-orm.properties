it.govpay.orm.databaseType=${it.govpay.orm.databaseType}
it.govpay.orm.showSql=${it.govpay.orm.showSql}
it.govpay.orm.dataSourceJNDIName=${it.govpay.orm.dataSourceJNDIName}
it.govpay.orm.dataSourceAppName=${it.govpay.orm.dataSourceAppName.ear}

it.govpay.orm.nativeQuery.list=estrattiConto,estrattiContoVersamenti,csvVersamenti

# Query acquisizione estrattiConto

it.govpay.orm.nativeQuery.estrattiConto.postgresql=select p.data_pagamento, p.importo_pagato, p.iur, r.iuv, p.codflusso_rendicontazione, sv.cod_singolo_versamento_ente, sv.note, f.cod_bic_riversamento, f.iur, p.iban_accredito from pagamenti p left outer join fr_applicazioni fra on p.id_fr_applicazione=fra.id left outer join fr f on f.id=fra.id_fr join rpt r on r.id=p.id_rpt join singoli_versamenti sv on sv.id= p.id_singolo_versamento where p.data_acquisizione between ? and ? and r.cod_dominio = ? order by p.data_acquisizione, r.iuv OFFSET ? LIMIT ?
it.govpay.orm.nativeQuery.estrattiConto.mysql=select p.data_pagamento, p.importo_pagato, p.iur, r.iuv, p.codflusso_rendicontazione, sv.cod_singolo_versamento_ente, sv.note, f.cod_bic_riversamento, f.iur, p.iban_accredito from pagamenti p left outer join fr_applicazioni fra on p.id_fr_applicazione=fra.id left outer join fr f on f.id=fra.id_fr join rpt r on r.id=p.id_rpt join singoli_versamenti sv on sv.id= p.id_singolo_versamento where p.data_acquisizione between ? and ? and r.cod_dominio = ? order by p.data_acquisizione, r.iuv LIMIT ?, ?
it.govpay.orm.nativeQuery.estrattiConto.oracle=select data_pagamento, importo_pagato, iur, iuv, codflusso_rendicontazione, cod_singolo_versamento_ente, note, cod_bic_riversamento, iur_2, iban_accredito from (select p.data_pagamento, p.data_acquisizione, p.importo_pagato, p.iur, r.iuv, p.codflusso_rendicontazione, sv.cod_singolo_versamento_ente, sv.note, f.cod_bic_riversamento, f.iur as iur_2, p.iban_accredito ROW_NUMBER() OVER ( ORDER BY p.data_acquisizione) AS rowNumber from pagamenti p left outer join fr_applicazioni fra on p.id_fr_applicazione=fra.id left outer join fr f on f.id=fra.id_fr join rpt r on r.id=p.id_rpt join singoli_versamenti sv on sv.id= p.id_singolo_versamento where p.data_acquisizione between ? and ? and r.cod_dominio = ?) WHERE (  rowNumber > ? AND rowNumber <= ? ) ORDER BY data_acquisizione, iuv

# Query per la generazione degli estrattiConto in formato PDF utilizzando i versamenti selezionati dall'utente della console.

it.govpay.orm.nativeQuery.estrattiContoVersamenti.postgresql=select p.data_pagamento, p.importo_pagato, p.iur, r.iuv, p.codflusso_rendicontazione, sv.cod_singolo_versamento_ente, sv.note, f.cod_bic_riversamento, f.iur, p.iban_accredito from pagamenti p left outer join fr_applicazioni fra on p.id_fr_applicazione=fra.id left outer join fr f on f.id=fra.id_fr join rpt r on r.id=p.id_rpt join singoli_versamenti sv on sv.id= p.id_singolo_versamento join versamenti v on v.id = sv.id_versamento where v.id in ( $ID_VERSAMENTI$ ) and r.cod_dominio = ? order by p.data_acquisizione, r.iuv OFFSET ? LIMIT ?
it.govpay.orm.nativeQuery.estrattiContoVersamenti.mysql=select p.data_pagamento, p.importo_pagato, p.iur, r.iuv, p.codflusso_rendicontazione, sv.cod_singolo_versamento_ente, sv.note, f.cod_bic_riversamento, f.iur, p.iban_accredito from pagamenti p left outer join fr_applicazioni fra on p.id_fr_applicazione=fra.id left outer join fr f on f.id=fra.id_fr join rpt r on r.id=p.id_rpt join singoli_versamenti sv on sv.id= p.id_singolo_versamento where p.data_acquisizione between ? and ? and r.cod_dominio = ? order by p.data_acquisizione, r.iuv LIMIT ?, ?
it.govpay.orm.nativeQuery.estrattiContoVersamenti.oracle=select data_pagamento, importo_pagato, iur, iuv, codflusso_rendicontazione, cod_singolo_versamento_ente, note, cod_bic_riversamento, iur_2, iban_accredito from (select p.data_pagamento, p.data_acquisizione, p.importo_pagato, p.iur, r.iuv, p.codflusso_rendicontazione, sv.cod_singolo_versamento_ente, sv.note, f.cod_bic_riversamento, f.iur as iur_2, p.iban_accredito ROW_NUMBER() OVER ( ORDER BY p.data_acquisizione) AS rowNumber from pagamenti p left outer join fr_applicazioni fra on p.id_fr_applicazione=fra.id left outer join fr f on f.id=fra.id_fr join rpt r on r.id=p.id_rpt join singoli_versamenti sv on sv.id= p.id_singolo_versamento where p.data_acquisizione between ? and ? and r.cod_dominio = ?) WHERE (  rowNumber > ? AND rowNumber <= ? ) ORDER BY data_acquisizione, iuv

# Query per la generazione dell'estratto conto della pagina reportisticapagamenti.

it.govpay.orm.nativeQuery.csvVersamenti.postgresql=select p.data_pagamento, p.importo_pagato, p.iur, r.iuv, p.codflusso_rendicontazione, sv.cod_singolo_versamento_ente, sv.note, f.cod_bic_riversamento, f.iur, p.iban_accredito, v.id, v.cod_versamento_ente, v.stato_versamento, v.causale_versamento, v.debitore_identificativo, sv.importo_singolo_versamento, sv.stato_singolo_versamento from pagamenti p left outer join fr_applicazioni fra on p.id_fr_applicazione=fra.id left outer join fr f on f.id=fra.id_fr join rpt r on r.id=p.id_rpt join singoli_versamenti sv on sv.id= p.id_singolo_versamento join versamenti v on v.id = sv.id_versamento where v.id in ( $ID_VERSAMENTI$ ) order by p.data_acquisizione, r.iuv OFFSET ? LIMIT ?
it.govpay.orm.nativeQuery.csvVersamenti.mysql=select p.data_pagamento, p.importo_pagato, p.iur, r.iuv, p.codflusso_rendicontazione, sv.cod_singolo_versamento_ente, sv.note, f.cod_bic_riversamento, f.iur, p.iban_accredito, v.id, v.cod_versamento_ente, v.stato_versamento, v.causale_versamento, v.debitore_identificativo, sv.importo_singolo_versamento, sv.stato_singolo_versamento from pagamenti p left outer join fr_applicazioni fra on p.id_fr_applicazione=fra.id left outer join fr f on f.id=fra.id_fr join rpt r on r.id=p.id_rpt join singoli_versamenti sv on sv.id= p.id_singolo_versamento join versamenti v on v.id = sv.id_versamento where v.id in ( $ID_VERSAMENTI$ ) and r.cod_dominio = ? order by p.data_acquisizione, r.iuv LIMIT ?, ?
it.govpay.orm.nativeQuery.csvVersamenti.oracle=select data_pagamento, importo_pagato, iur, iuv, codflusso_rendicontazione, cod_singolo_versamento_ente, note, cod_bic_riversamento, iur_2, iban_accredito, id_versamento from (select p.data_pagamento, p.data_acquisizione, p.importo_pagato, p.iur, r.iuv, p.codflusso_rendicontazione, sv.cod_singolo_versamento_ente, sv.note, f.cod_bic_riversamento, f.iur as iur_2, p.iban_accredito, v.id as id_versamento, v.cod_versamento_ente, v.stato_versamento, v.causale_versamento, v.debitore_identificativo, sv.importo_singolo_versamento, sv.stato_singolo_versamento ROW_NUMBER() OVER ( ORDER BY p.data_acquisizione) AS rowNumber from pagamenti p left outer join fr_applicazioni fra on p.id_fr_applicazione=fra.id left outer join fr f on f.id=fra.id_fr join rpt r on r.id=p.id_rpt join singoli_versamenti sv on sv.id= p.id_singolo_versamento join versamenti v on v.id = sv.id_versamento where v.id in ( $ID_VERSAMENTI$ ) and r.cod_dominio = ?) WHERE (  rowNumber > ? AND rowNumber <= ? ) ORDER BY data_acquisizione, iuv
